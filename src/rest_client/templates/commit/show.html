{% extends "layout.html" %}
{% block body %}
<h1>
  <a href="{{url_for('repos',username=repo['owner']['username'],reponame=repo['name'])}}">
    {{repo['name']}}
  </a>
  /
  {{commit['sha']}}
</h1>
<p>
  {{commit['message']}}
</p>

<ul>
  <li><em>Author</em>: {{commit['author']['name']}}</li>
  <li><em>Committer</em>: {{commit['committer']['name']}}</li>
  <li><em>Time</em>: {{commit['committer']['date']}}</li>
</ul>

<h4>Tree</h4>
<ul class="tree">
{% for item in tree recursive %}
  <li>
  {% if 'childs' in item %}
    <img src="{{url_for('static', filename='images/folder.png')}}" alt="folder"  class="folder" />
    {{ item['path'] }}
    <ul>
    {{ loop(item['childs']) }}
    </ul>
  {% else %}
    <a href="{{url_for('blobByUserandRepoAndSha', username=repo['owner']['username'],repository=repo['name'],sha=item['sha'])}}">
      {{ item['path'] }}
    </a>
  {% endif %}
  </li>
{%endfor%}
</ul>
{%endblock%}
